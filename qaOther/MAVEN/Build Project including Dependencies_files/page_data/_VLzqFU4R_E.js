/*!CK:2700367810!*//*1445282449,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["SwgKP"]); }

__d("CctaTestIDs",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CCTA_VIEWER_UNIT_TESTID:"ccta_viewer_unit_testid",CCTA_TYPE_SELECTOR_TESTID:"ccta_type_selector_testid",CCTA_TYPE_SELECTOR_OPTION_TESTID_PREFIX:"ccta_type_selector_option_testid_",CCTA_CANCEL_BUTTON_TESTID:"ccta_cancel_button_testid",CCTA_SAVE_BUTTON_TESTID:"ccta_save_button_testid",CCTA_WEB_URI_TESTID:"ccta_web_uri_testid",CCTA_EDIT_MENU_TESTID:"ccta_edit_menu_testid",CCTA_SWITCH_TO_APP_BUTTON_TESTID:"ccta_switch_to_app_button_testid",CCTA_ANDROID_APPS_DROPDOWN_TESTID:"ccta_android_apps_dropdown_testid",CCTA_ANDROID_APPS_DROPDOWN_WEBSITE_OPTION_TESTID:"ccta_android_apps_dropdown_website_option_testid",CCTA_ANDROID_APPS_DROPDOWN_APP_OPTION_TESTID:"ccta_android_apps_dropdown_app_option_testid"};},null,{});
__d("PageCallToActionDestinationTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:"NONE",APP_DEEPLINK:"APP_DEEPLINK",DONATE:"DONATE",FACEBOOK_APP:"FACEBOOK_APP",LEAD_GEN:"LEAD_GEN",MESSENGER:"MESSENGER",OPEN_TABLE:"OPEN_TABLE",PHONE_CALL:"PHONE_CALL",STORE_FRONT:"STORE_FRONT",WEBSITE:"WEBSITE"};},null,{});
__d("PageCallToActionRef",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:"None",MOBILE_PAGE_PRESENCE_CALL_TO_ACTION:"mobile_page_presence_call_to_action",COVER_PHOTO_SURFACE:"coverPhoto",HOVER_CARD_SURFACE:"hoverCard",PAGE_PLUGIN_SURFACE:"pagePlugin",ADMIN_MENU_TEST_LINK:"adminMenuTestLink",PAGE_PRESENCE_LHS_CARD:"pagePresenceLhsCard"};},null,{});
__d('AbstractTextArea.react',['AbstractTextFieldMixin.react','React','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i.createClass({displayName:'AbstractTextArea',mixins:[h],renderTextField:function(){return this.setTextFieldPropsOn(i.createElement('textarea',{className:"_58an",tabIndex:this.props.tabIndex,onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,rows:this.props.rows}));}});f.exports=k;},null);
__d('PagesButton.react',['AbstractButton.react','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m='accentblue',n='medium',o=i.createClass({displayName:'PagesButton',statics:{getButtonSize:function(p){return p.size||n;},getButtonColor:function(p){return p.color||m;}},propTypes:{color:l.oneOf(['accentblue','fbblue','green']),size:l.oneOf(['small','medium','large']),disabled:l.bool,fill:l.bool},getDefaultProps:function(){return {color:m,size:n,disabled:false,fill:false};},render:function(){var p=o.getButtonColor(this.props),q=o.getButtonSize(this.props),r=this.props.disabled,s=this.props.fill,t=k("_xa7"+(q==='small'?' '+"_xa8":'')+(q==='medium'?' '+"_xa9":'')+(q==='large'?' '+"_xaf":'')+(!r&&p==='accentblue'?' '+"_xag":'')+(!r&&p==='fbblue'?' '+"_xah":'')+(!r&&p==='green'?' '+"_xai":'')+(r?' '+"_xaj":'')+(s?' '+"_xak":'')+(!s?' '+"_xal":''));return (i.createElement(h,babelHelpers._extends({},this.props,{className:k(this.props.className,t)})));}});f.exports=o;},null);
__d('CctaConstants',['CustomCallToActionTypes'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('CustomCallToActionTypes').TYPES,i={AppID:{OPEN_APP:'1',OPEN_WEBSITE:'2'},CtaBarItem:{WEBSITE_BAR_ITEM:'Website',IPHONE_BAR_ITEM:'iPhone',ANDROID_BAR_ITEM:'Android'},CREATE_CTA_TYPE_OPTIONS:[h.BOOK_NOW,h.CONTACT_US,h.OPEN_APP,h.PLAY_NOW,h.SHOP_NOW,h.SIGN_UP,h.WATCH_NOW],PHONE_EMAIL_PREFERENCE_OPTIONS:{PHONE_AND_EMAIL:'phone_and_email',PHONE_ONLY:'phone_only',EMAIL_ONLY:'email_only'},DialogVersion:{SIMPLIFIED_DIALOG:2}};f.exports=i;},null);
__d('CctaBaseDataLoader',['AsyncRequest','Promise','URI'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();k.prototype.__getPromise=function(l,m){return new i(function(n,o){new h().setURI(l).setData(m).setHandler(function(p){if(p&&p.payload&&p.payload.payload){n(p.payload.payload);}else o({error:'no payload in response',description:'no payload in response',summary:'no payload in response'});}).setErrorHandler(function(p){return o({error:p.error,description:p.errorDescription,summary:p.errorSummary});}).send();});};function k(){}f.exports=k;},null);
__d("XCctaCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ccta\/create\/",{});},null,{});
__d('CctaCreateDataLoader',['CctaBaseDataLoader','XCctaCreateController'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;'use strict';j=babelHelpers.inherits(l,h);k=j&&j.prototype;l.prototype.promiseCreateCcta=function(n){return this.__getPromise(i.getURIBuilder().getURI(),{payload_json:JSON.stringify(n)});};function l(){j.apply(this,arguments);}var m=new l();f.exports=m;},null);
__d("XCctaDeleteController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ccta\/delete\/",{page_id:{type:"Int",required:true},ccta_id:{type:"Int",required:true}});},null,{});
__d('CctaDeleteDataLoader',['CctaBaseDataLoader','XCctaDeleteController'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;'use strict';j=babelHelpers.inherits(l,h);k=j&&j.prototype;l.prototype.promiseDeleteCcta=function(n,o){return this.__getPromise(i.getURIBuilder().setInt('page_id',n).setInt('ccta_id',o).getURI(),{});};function l(){j.apply(this,arguments);}var m=new l();f.exports=m;},null);
__d('CustomCTALogger',['Banzai'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={logVital:function(j){h.post('page_custom_cta_logger',j,h.VITAL);},log:function(j){h.post('page_custom_cta_logger',j);}};f.exports=i;},null);
__d('CctaDialogActionTypes',['AdsDispatchActionTypeUtils'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i='CCTA_DIALOG_',j={SHOW_FINISH_DIALOG:null,SCROLL_AREA:null,TOGGLE_MAIN_DIALOG:null,TOGGLE_DELETE_DIALOG:null,TOGGLE_CREATE_SUCCESS_DIALOG:null,TOGGLE_UPDATE_ALERT:null,CLICK_MAIN_DIALOG_SAVE_BUTTON:null,CLICK_DELETE_DIALOG_CONFIRM_BUTTON:null,RESET_UI:null,RESET_UI_LINK_APPS:null,TOGGLE_LINK_APPS_SWITCH:null,IPHONE_URI_TYPING:null,IPHONE_DEEP_LINK_TYPING:null,VALIDATE_IPHONE_DEEP_LINK:null,VALIDATE_ANDROID_DEEP_LINK:null,VALIDATE_ANDROID_PACKAGE_NAME:null,VALIDATE_ANDROID_URI:null,ANDROID_DEEP_LINK_TYPING:null,ANDROID_PACKAGE_NAME_TYPING:null,ANDROID_URI_TYPING:null,ANDROID_DEEPLINK_ERROR_FOCUSED:null,CLEAR_FOCUS:null,WEB_URI_TYPING:null,PHONE_ERROR_TYPING:null,PRIVACY_LINK_TYPING:null,TOGGLE_CONTACT_US_DESTINATION_TYPE_SWITCH:null,SHOW_ERROR_NOTICE:null,TEXTBOX_PAUSE_TYPING:null},k=h.createActionTypeMap(i,j);f.exports=k;},null);
__d("XCctaCalloutActionController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/custom_cta\/callout_action\/",{page_id:{type:"Int",required:true},action:{type:"String",required:true}});},null,{});
__d("XCctaCloseCreateDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ccta\/cancel_create_dialog\/",{__asyncDialog:{type:"Int"}});},null,{});
__d('CctaDataStore',['AdsUtils','Arbiter','AsyncRequest','CctaConstants','CctaCreateDataLoader','CctaDeleteDataLoader','CctaDataActionTypes','CctaDialogActionTypes','CustomCallToActionConstants','PageCallToActionDestinationTypes','CctaAppDispatcher','FluxStore','XCctaCalloutActionController','XCctaCloseCreateDialogController','ads-lib-urllib','CustomCallToActionTypes'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w,x;'use strict';var y=c('CustomCallToActionTypes').CONFIGS,z=c('CustomCallToActionTypes').TYPES,aa=c('CustomCallToActionTypes').MOBILE_ONLY_DESTINATION_TYPES,ba=c('CctaConstants').DialogVersion;w=babelHelpers.inherits(ca,s);x=w&&w.prototype;function ca(da){x.constructor.call(this,da);this.$CctaDataStore1={};this.$CctaDataStore2={};this.$CctaDataStore3=false;}ca.prototype.getData=function(){return this.$CctaDataStore1;};ca.prototype.isInitialized=function(da){if(!this.$CctaDataStore3)return false;if(da!==this.$CctaDataStore1.pageID){this.$CctaDataStore3=false;return false;}return true;};ca.prototype.$CctaDataStore4=function(){var da=this.$CctaDataStore1.eligibleCallToActionConfig[this.$CctaDataStore1.ctaType],ea=[];Object.keys(da.destination_types).forEach(function(ha){ea.push(da.destination_types[ha]);});if(!this.$CctaDataStore1.webDestinationType||ea.indexOf(this.$CctaDataStore1.webDestinationType)<0){this.$CctaDataStore1.webDestinationType=q.NONE;for(var fa=0;fa<ea.length;fa++){var ga=ea[fa];if(aa.indexOf(ga)<0){this.$CctaDataStore1.webDestinationType=ga;break;}}}if(!this.$CctaDataStore1.androidDestinationType||ea.indexOf(this.$CctaDataStore1.androidDestinationType)<0)this.$CctaDataStore1.androidDestinationType=this.$CctaDataStore1.webDestinationType;if(!this.$CctaDataStore1.iphoneDestinationType||ea.indexOf(this.$CctaDataStore1.iphoneDestinationType)<0)this.$CctaDataStore1.iphoneDestinationType=this.$CctaDataStore1.webDestinationType;};ca.prototype.__onDispatch=function(da){var ea=da.action;switch(ea.type){case n.UPDATE_FROM_SERVER:this.$CctaDataStore2=h.clone(ea.payload);this.$CctaDataStore1=ea.payload;if(!this.$CctaDataStore1.ctaType){if(this.$CctaDataStore1.defaultCctaType){this.$CctaDataStore1.ctaType=this.$CctaDataStore1.defaultCctaType;}else this.$CctaDataStore1.ctaType=z.CONTACT_US;this.$CctaDataStore4();}this.$CctaDataStore3=true;this.__emitChange();this.getDispatcher().handleViewAction({type:o.RESET_UI,payload:this.$CctaDataStore1});i.inform('PageCallToAction/forceUpdate',{page_id:this.$CctaDataStore1.pageID});break;case n.UPDATE_TO_SERVER:this.$CctaDataStore1.dialog_version=ba.SIMPLIFIED_DIALOG,this.$CctaDataStore1.source=ea.source;l.promiseCreateCcta(this.$CctaDataStore1).then((function(ga){this.getDispatcher().handleServerAction({type:n.UPDATE_FROM_SERVER,payload:ga});this.getDispatcher().handleViewAction({type:o.TOGGLE_MAIN_DIALOG});}).bind(this),(function(ga){this.getDispatcher().handleViewAction({type:o.SHOW_ERROR_NOTICE});}).bind(this));this.__emitChange();break;case n.DELETE_TO_SERVER:this.$CctaDataStore1.source=ea.source;m.promiseDeleteCcta(this.$CctaDataStore1.pageID,this.$CctaDataStore1.cctaID).then((function(ga){this.getDispatcher().handleServerAction({type:n.UPDATE_FROM_SERVER,payload:ga});}).bind(this),function(ga){});this.__emitChange();break;case n.CLOSE_NUX:var fa=t.getURIBuilder().setInt('page_id',this.$CctaDataStore1.pageID).setString('action',p.SKIP_PROMOTION).getURI();new j().setURI(fa).send();this.__emitChange();break;case n.CLOSE_DIALOG:if(!this.$CctaDataStore1.cctaID)new j().setURI(u.getURIBuilder().getURI()).send();this.getDispatcher().handleViewAction({type:n.UPDATE_FROM_SERVER,payload:this.$CctaDataStore2});this.__emitChange();break;case n.UPDATE_PROMOTE:this.$CctaDataStore1.promoting=ea.payload;this.__emitChange();break;case n.CHANGE_CTA_TYPE:this.$CctaDataStore1.ctaType=ea.payload;this.$CctaDataStore4();this.__emitChange();break;case n.CHANGE_WEB_URI:this.$CctaDataStore1.webURI=v.normalize(ea.payload);this.__emitChange();break;case n.CHANGE_PHONE_NUMBER:this.$CctaDataStore1.countryPrefix=ea.payload.countryPrefix;this.$CctaDataStore1.nationalNumber=ea.payload.nationalNumber;this.__emitChange();break;case n.CHANGE_PHONE_EMAIL_PREFERENCE:this.$CctaDataStore1.phoneEmailPreference=ea.payload;this.__emitChange();break;case n.CHANGE_PRIVACY_LINK:this.$CctaDataStore1.privacyLink=v.normalize(ea.payload);this.__emitChange();break;case n.CHANGE_IPHONE_DEEP_LINK:this.$CctaDataStore1.iphoneDeepLink=ea.payload;this.__emitChange();break;case n.CHANGE_IPHONE_URI:this.$CctaDataStore1.iphoneURI=v.normalize(ea.payload);this.__emitChange();break;case n.SELECT_IPHONE_APP:if(ea.payload===q.WEBSITE||ea.payload===q.APP_DEEPLINK){this.$CctaDataStore1.iphoneDestinationType=ea.payload;}else{this.$CctaDataStore1.iphoneFBAppID=ea.payload;this.$CctaDataStore1.iphoneDestinationType=q.FACEBOOK_APP;}this.$CctaDataStore1.iphoneDeepLink='';this.$CctaDataStore1.iphoneURI='';this.__emitChange();break;case n.TOGGLE_WEB_DESTINATION_TYPE:this.$CctaDataStore1.webDestinationType=ea.payload;this.$CctaDataStore1.androidDestinationType=this.$CctaDataStore1.webDestinationType;this.$CctaDataStore1.iphoneDestinationType=this.$CctaDataStore1.webDestinationType;this.__emitChange();break;case n.CHANGE_ANDROID_DEEP_LINK:this.$CctaDataStore1.androidDeepLink=ea.payload;this.__emitChange();break;case n.CHANGE_ANDROID_PACKAGE_NAME:this.$CctaDataStore1.androidPackageName=ea.payload;this.__emitChange();break;case n.CHANGE_ANDROID_URI:this.$CctaDataStore1.androidURI=v.normalize(ea.payload);this.__emitChange();break;case n.SELECT_ANDROID_APP:if(ea.payload===q.WEBSITE||ea.payload===q.APP_DEEPLINK){this.$CctaDataStore1.androidDestinationType=ea.payload;}else{this.$CctaDataStore1.androidFBAppID=ea.payload;this.$CctaDataStore1.androidDestinationType=q.FACEBOOK_APP;}this.$CctaDataStore1.androidDeepLink='';this.$CctaDataStore1.androidPackageName='';this.$CctaDataStore1.androidURI='';this.__emitChange();break;default:}};f.exports=new ca(r);},null);
__d('PageContentTabLoadingDialog',['React','ReactDOM','DOM','XUIDialog.react','XUIDialogBody.react','XUISpinner.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=h.createClass({displayName:'PageContentTabLoadingDialogComponent',getInitialState:function(){return {shown:false};},render:function(){return (h.createElement(k,{width:300,shown:this.state.shown,layerHideOnBlur:false},h.createElement(l,{className:"_5xp9"},h.createElement(m,{background:'light',className:"_5xpe",size:'large'}))));},show:function(){this.setState({shown:true});},hide:function(){this.setState({shown:false});}}),p={show:function(){if(!this._dialog)this._dialog=i.render(h.createElement(o,null),j.create('div'));this._dialog.show();},hide:function(){this._dialog&&this._dialog.hide();}};f.exports=p;},null);
__d('CustomCTAUtils',['fbt','AdsCallToActionTypes','AsyncRequest','CctaAppDispatcher','CctaDataStore','CctaDialogActionTypes','CctaTestIDs','CustomCTAConstants','CustomCTALogger','Image.react','PageContentTabLoadingDialog','PagesEventType','React','XUISelector.react','CustomCallToActionTypes','CctaConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=c('CustomCallToActionTypes').ICONS,w=c('CustomCallToActionTypes').LABELS,x=c('CustomCallToActionTypes').MOBILE_ICONS,y=c('CustomCallToActionTypes').TYPES,z=c('CustomCallToActionTypes').TYPES,aa=c('CctaConstants').DialogVersion,ba=u.Option,ca={executeCallToAction:function(da,ea){if(da===z.CHARITY_DONATE){r.show();new j(ea).setFinallyHandler(function(fa){r.hide();}).send();}else window.open(ea);},getFallbackSelectorOptions:function(){var da=[];da.push(t.createElement(ba,{value:o.FALLBACK_GO_TO_WEBSITE},ca.getFallbackLabel(o.FALLBACK_GO_TO_WEBSITE)));da.push(t.createElement(ba,{value:o.FALLBACK_INSTALL_APP},ca.getFallbackLabel(o.FALLBACK_INSTALL_APP)));return da;},getCallToActionSelectorOptions:function(da){var ea=[];da.forEach(function(fa){ea.push(t.createElement(ba,{'data-testid':n.CCTA_TYPE_SELECTOR_OPTION_TESTID_PREFIX+fa,key:fa,value:fa,icon:t.createElement(q,{src:ca.getCallToActionIcon(fa)})},ca.getCallToActionLabel(fa)));});return ea;},getFallbackLabel:function(da){switch(da){case o.FALLBACK_INSTALL_APP:return h._("Install Now");case o.FALLBACK_GO_TO_WEBSITE:return h._("Go to Website");}return null;},getCallToActionLabel:function(da){return w[da];},getCallToActionMobileIcon:function(da){return x[da];},getCallToActionIcon:function(da){return v[da];},getTruncatedURI:function(da){if(!da||da.length<o.URI_TRUNCATE_LENGTH)return da;return da.substr(0,o.URI_TRUNCATE_LENGTH)+'...';},getAdsCallToActionType:function(da){switch(da){case y.BOOK_NOW:return i.TYPES.BOOK_TRAVEL.name;case y.OPEN_APP:return i.TYPES.USE_APP.name;case y.PLAY_NOW:return i.TYPES.PLAY_GAME.name;case y.SHOP_NOW:return i.TYPES.SHOP_NOW.name;case y.SIGN_UP:return i.TYPES.SIGN_UP.name;case y.WATCH_NOW:return i.TYPES.WATCH_VIDEO.name;default:return '';}},openCreateDialogFromCallout:function(){var da=l.getData();if(!da)return;p.log({event_type:s.CUSTOM_CTA_VIEW_CREATE,page_id:da.pageID,dialog_version:aa.SIMPLIFIED_DIALOG,source:'callout'});k.handleViewAction({type:m.TOGGLE_MAIN_DIALOG,source:'callout'});}};f.exports=ca;},null);
__d('CctaErrorMessages',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={CONTACT_US_LEAD_GEN_EMPTY_COMMENT:h._("Please add a comment so that Page admin could better assist you."),CONTACT_US_LEAD_GEN_EMPTY_PHONE:h._("Please enter your phone number."),CONTACT_US_LEAD_GEN_EMPTY_EMAIL:h._("Please enter your email address."),CONTACT_US_LEAD_GEN_EMPTY_EMAIL_AND_PHONE:h._("Please enter your email address or your phone."),CALL_TO_ACTION_ADMIN_CREATION_ERROR:h._("Something is wrong and update is failed.")};f.exports=i;},null);
__d('CctaLabels',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={WEBSITE_LABEL:h._("Website"),IPHONE_LABEL:h._("iPhone"),ANDROID_LABEL:h._("Android"),SHOW_FLYOUT:'SHOW_FLYOUT',TEST_LABEL:h._("Go to Link..."),INSIGHTS_LABEL:h._("View Insights"),EDIT_LABEL:h._("Edit call to action"),DELETE_LABEL:h._("Delete call to action"),CONTACT_US_REQUEST_LABEL:h._("Contact Us Request"),CTA_SELECTOR:h._("Choose a Button"),SELECTOR_OPTION_WEBSITE:h._("Website"),SELECTOR_OPTION_APP:h._("App"),ANDROID_SECTION:h._("ANDROID SETTINGS"),IOS_SECTION:h._("IOS SETTINGS"),ANDROID_SECTION_TITLE:h._("Choose Where to Send People on Android"),EDIT_CALL_TO_ACTION_WEBSITE:h._("Edit Call-to-Action Button"),CREATE_SUCCESS_DIALOG_BODY:h._("Now that you've created a call to action, you can promote it to encourage people to click your call-to-action button."),CREATE_SUCCESS_DIALOG_TITLE:h._("Promote Your Call-to-Action"),CREATE_CALL_TO_ACTION_WEBSITE:h._("Create a Call-to-Action Button"),WEB_LINK_INPUT_LABEL:h._("Website"),WEB_LINK_INPUT_PLACEHOLDER:h._("Example: {url}",[h.param('url','http://www.mywebsite.com')]),APP_TOGGLE_LABEL:h._("Set up a Link to an App?"),IOS_WEBSITE_DESTINATION_TOOLTIP:h._("Visitors using iOS will be sent to the website above."),ANDROID_WEBSITE_DESTINATION_TOOLTIP:h._("Visitors using Android will be sent to the website above."),IOS_APP_DESTINATION_TOOLTIP:h._("Visitors using iOS will be sent to the app link entered below."),ANDROID_APP_DESTINATION_TOOLTIP:h._("Visitors using Android will be sent to the app link entered below."),IOS_SECTION_TITLE:h._("Choose Where to Send People on iOS"),IOS_APP_LINK_INPUT_LABEL:h._("iOS App Deep Link"),ANDROID_APP_LINK_INPUT_LABEL:h._("Android App Deep Link"),IOS_BACKUP_INPUT_LABEL:h._("Website or App Store Link"),ANDROID_BACKUP_INPUT_LABEL:h._("Website or Play Store Link"),APP_LINK_NOTICE:h._("If you like, you may set up app deep links for iOS or Android users. This is only necessary if you have app you want to send visitors to."),CREATE_DIALOG_BODY_MESSAGE:h._("Add a button to your Page that takes people directly to your website or app."),EDIT_PROMOTION_LABEL:h._("Edit Promotion"),PROMOTE_LABEL:h._("Promote"),NOT_NOW:h._("Not Now"),DEEPLINK_LEARN_MORE_LABEL:h._("Learn more."),DEEP_LINK_INPUT_LABEL:h._("Deep Link"),CREATE_IPHONE_DEEP_LINK_TEXT:h._("We will open the app selected above if installed"),CREATE_DIALOG_BACKUP_LINK_MESSAGE:h._("People who don't have your app will be sent here."),PACKAGE_NAME_LABEL:h._("Package Name"),CREATE_DIALOG_PACKAGE_NAME_MESSAGE_ANDROID:h._("Add the android package name of your app."),CREATE_DIALOG_APPLINK_MESSAGE:h._("Send people to a specific place inside your app, such as a product page."),CREATE_ANDROID_DEEP_LINK_TEXT:h._("We will open the app selected above if installed"),CREATE_ANDROID_PACKAGE_NAME_TEXT:h._("We will use the package name from selected app"),DELETE_DURING_PROMOTION_DIALOG_TITLE:h._("This Change Will End Your Ad"),DELETE_DURING_PROMOTION_DIALOG_MESSAGE:h._("You're currently promoting this call to action. If you delete it, your ad will end."),DELETE_DIALOG_TITLE:h._("Delete Call-to-Action Button"),DELETE_DIALOG_MESSAGE:h._("Do you really want to delete the call-to-action button from your Facebook Page?"),CREATE_LABEL:h._("Create Call to Action"),CREATE_TOOLTIP:h._("Add a button to get people to take an action from your Page such as shop or sign up"),ENTER_PHONE_LABEL:h._("Enter Phone Number"),ENTER_PHONE_PLACEHOLDER:h._("Example: 8005550199"),DATE_PICKER_TEXT:h._("Date:"),TIME_PICKER_TEXT:h._("Time:"),PARTY_PICKER_TEXT:h._("Party Size:"),PHONE_EMAIL_PREFERENCE_SELECTOR_SECTION_TITLE:h._("What information would you like to collect?"),PHONE_EMAIL_PREFERENCE_SELECTOR_SECTION_DESCRIPTION:h._("Some text here that explains that this contact information will expire in 90 days after they have been submitted."),CONTACT_US_PRIVACY_LINK_SECTION_TITLE:h._("Add a link to your Privacy Policy"),CONTACT_US_PRIVACY_LINK_SECTION_DESCRIPTION:h._("Some explaination of your privacy policy and why it is required. Let people know why this is important."),PHONE_EMAIL_PREFERENCE_PHONE_AND_EMAIL_LABEL:h._("Phone Number and Email"),PHONE_EMAIL_PREFERENCE_PHONE_ONLY_LABEL:h._("Phone Number"),PHONE_EMAIL_PREFERENCE_EMAIL_ONLY_LABEL:h._("Email"),CONTACT_US_TERM_BODY_MESSAGE:h._("This feature is designed to permit the response to inbound requests from individuals. Certain types of contact may require additional consents required by law depending on your country. You agree that you are responsible for obtaining those consents and complying with our"),WEBSITE_DESTINATION_TYPE_TOGGLE_LABEL:h._("Do you want this button to link off Facebook to a website or app?"),CONTACT_US_REASON_INPUT_PLACEHOLDER:h._("Add a comment"),CONTACT_US_NAME_INPUT_PLACEHOLDER:h._("Enter your name"),CONTACT_US_EMAIL_INPUT_PLACEHOLDER:h._("Enter your email"),CONTACT_US_PHONE_INPUT_PLACEHOLDER:h._("Phone Number"),CONTACT_US_INFO_SUBMIT_CONFIRMATION_LABEL:h._("OK"),YES_LABEL:h._("Yes"),NO_LABEL:h._("No"),DONATE_NOW_LEGAL_CONTENT_ONE:h._("By creating this Call-to-Action button, you certify that both of the following statements are true and accurate:"),DONATE_NOW_LEGAL_CONTENT_TWO:h._("Your organization operates as a charitable organization under the applicable laws in your jurisdiction. U.S.-based organizations must be organized and operating pursuant to section 501 (c)(3) of the U.S. Internal Revenue Code, even if you have not yet applied."),DONATE_NOW_LEGAL_CONTENT_THREE:h._("Your organization does not directly or indirectly intervene in any political campaign on behalf of or in opposition to any candidates for public office."),MARK_AS_RESPONDED_LABEL:h._("Mark as responded"),BAN_FROM_PAGE:h._("Ban From Page")};f.exports=i;},null);
__d('PhoneCodeSelector.react',['LeftRight.react','PhoneCodes','React','XUISelector.react','XUINotice.react','fbt','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=k.Option,p=j.PropTypes,q=j.createClass({displayName:'PhoneCodeSelector',propTypes:{initialCountryCode:p.string,initialPhoneCode:p.number,maxheight:p.number,onUpdate:p.func.isRequired,phoneCodes:p.object.isRequired},getDefaultProps:function(){return {initialCountryCode:'US',maxheight:300,phoneCodes:i};},getInitialState:function(){var r=null;if(this.props.initialPhoneCode)Object.keys(this.props.phoneCodes).forEach((function(s){var t=this.props.phoneCodes[s];if(t.phone_code===this.props.initialPhoneCode)r=s;}).bind(this));if(!r&&this.props.initialCountryCode)r=this.props.initialCountryCode;return this._getCurrentState(r,this.props);},_getCurrentState:function(r,s){var t=null;if(!(r in s.phoneCodes)){if(r)t=j.createElement(l,{use:'warn'},m._("Invalid selected value"));r=Object.keys(s.phoneCodes)[0];}return {selected:r,warningMessage:t};},componentWillReceiveProps:function(r){this.setState(this._getCurrentState(this.state.selected,r));},_onUpdate:function(r){var s=r.value;this.setState(this._getCurrentState(s,this.props));this.props.onUpdate(this.props.phoneCodes[s].phone_code,s);},render:function(){var r=[];Object.keys(this.props.phoneCodes).forEach((function(s){var t=this.props.phoneCodes[s];r.push(j.createElement(o,{key:s,label:'+'+t.phone_code,value:s},j.createElement(h,null,j.createElement('span',null,t.country_name),j.createElement('span',null,'+'+t.phone_code))));}).bind(this));return (j.createElement('span',null,this.state.warningMessage,j.createElement(k,{className:"_1h5m",maxheight:this.props.maxheight,onChange:this._onUpdate,value:this.state.selected},r)));}});f.exports=q;},null);
__d('TextAreaWithLineLimit.react',['AbstractTextArea.react','React','ReactComponentWithPureRenderMixin','TextAreaControl','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes,o=i.createClass({displayName:'TextAreaWithLineLimit',mixins:[j],propTypes:{onLostFocus:n.func,maxLines:n.number,maxCharacterPerLine:n.number,onChange:n.func.isRequired},getInitialState:function(){return {internalValue:""};},getDefaultProps:function(){return {maxLines:-1,maxCharacterPerLine:-1};},componentDidMount:function(){var p=this.refs.textArea.getTextFieldDOM();this._control=new k(p);this._control.setAutogrow(true);this._control.onupdate();this.setState({internalValue:p.value});},componentDidUpdate:function(){this._control.onupdate();},componentWillUnmount:function(){this._control=null;},_onTextChange:function(event){var p=event.target.value;if(!this._isTextWithinLimit(p)){event.target.value=this.state.internalValue;}else{this.setState({internalValue:p});this.props.onChange(p);}},_isTextWithinLimit:function(p){var q=p.split(/\r\n|\r|\n/);if(this.props.maxLines>0&&q.length>this.props.maxLines)return false;if(this.props.maxCharacterPerLine>0)for(var r=0;r<q.length;r++)if(q[r].length>this.props.maxCharacterPerLine)return false;return true;},render:function(){var p=m(this.props.className,"_xz");return (i.createElement(h,babelHelpers._extends({},this.props,{className:p,onChange:this._onTextChange,onBlur:this.props.onLostFocus,ref:'textArea'})));}});f.exports=o;},null);
__d("XCctaContactUsSaveLeadGenInfoController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ccta\/contact_us_save_info\/",{page_id:{type:"Int",required:true},contact_message:{type:"String"},contact_name:{type:"String"},contact_phone_number:{type:"String"},contact_country_code:{type:"String"},contact_email:{type:"String"}});},null,{});
__d('PageCallToActionContactUsDialog.react',['AsyncRequest','CctaConstants','CctaErrorMessages','CctaLabels','CustomCTALogger','Image.react','LayerHideOnBlur','Link.react','PagesEventType','PhoneCodeSelector.react','React','TextAreaWithLineLimit.react','XCctaContactUsSaveLeadGenInfoController','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogConfirmButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUINotice.react','XUITextInput.react','cx','fbt','ix','update','CustomCallToActionTypes'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){'use strict';if(c.__markCompiled)c.__markCompiled();var ha=c('CustomCallToActionTypes').LABELS,ia=c('CustomCallToActionTypes').TYPES,ja=r.PropTypes,ka=r.createClass({displayName:'PageCallToActionContactUsDialog',propTypes:{contactUsSpecs:ja.object.isRequired,pageID:ja.string.isRequired},_onCancel:function(){this._logCancel();},_onSubmit:function(){var la=this._validateInputFields();if(Object.keys(la).length===0){this.setState({showConfirmDialog:true});var ma=t.getURIBuilder().setString('contact_name',this.state.userName).setString('contact_message',this.state.contactUsComments).setString('contact_email',this.state.userEmail).setString('contact_phone_number',this.state.userPhone).setString('contact_country_code',this.state.countryPrefix).setInt('page_id',this.props.pageID).getURI();new h().setURI(ma).send();}else this.setState({errorList:la});},_logCancel:function(){var la={event_type:p.CUSTOM_CTA_VIEWER_CONTACT_US_CLICK_CANCEL,page_id:this.props.pageID,ccta_type:ia.CONTACT_US};l.log(la);},_getPhoneNumberError:function(){var la={};switch(this.props.contactUsSpecs.phoneEmailPref){case i.PHONE_EMAIL_PREFERENCE_OPTIONS.PHONE_AND_EMAIL:if(!this.state.userEmail&&!this.state.userPhone)la.phoneAndEmailError=j.CONTACT_US_LEAD_GEN_EMPTY_EMAIL_AND_PHONE;break;case i.PHONE_EMAIL_PREFERENCE_OPTIONS.PHONE_ONLY:if(!this.state.userPhone)la.phoneError=j.CONTACT_US_LEAD_GEN_EMPTY_PHONE;break;case i.PHONE_EMAIL_PREFERENCE_OPTIONS.EMAIL_ONLY:break;}return la;},_getInputEmailError:function(){var la={};switch(this.props.contactUsSpecs.phoneEmailPref){case i.PHONE_EMAIL_PREFERENCE_OPTIONS.PHONE_AND_EMAIL:if(!this.state.userEmail&&!this.state.userPhone)la.phoneAndEmailError=j.CONTACT_US_LEAD_GEN_EMPTY_EMAIL_AND_PHONE;break;case i.PHONE_EMAIL_PREFERENCE_OPTIONS.PHONE_ONLY:break;case i.PHONE_EMAIL_PREFERENCE_OPTIONS.EMAIL_ONLY:if(!this.state.userEmail)la.emailError=j.CONTACT_US_LEAD_GEN_EMPTY_EMAIL;break;}return la;},getInitialState:function(){return {userName:this.props.contactUsSpecs.userName,userEmail:this.props.contactUsSpecs.userEmail,userPhone:'',contactUsComments:'',showConfirmDialog:false,countryPrefix:1,shouldDisableConfirmButton:true,errorList:{}};},componentDidUpdate:function(){var la=this._validateInputFields();if(JSON.stringify(this.state.errorList)!=JSON.stringify(la))this.setState({errorList:la});},_validateInputFields:function(){var la={};if(!this.state.contactUsComments)la.commentsError=j.CONTACT_US_LEAD_GEN_EMPTY_COMMENT;if(!this.state.userEmail){var ma=this._getInputEmailError();if(ma)la=ga(la,{$merge:ma});}if(!this.state.userPhone){var na=this._getPhoneNumberError();if(na)la=ga(la,{$merge:na});}return la;},_renderContactUsCommentsSection:function(){return (r.createElement('div',{className:"_4xmx"},r.createElement('div',{className:"_4xnk"},ea._("How can {page name} help you?",[ea.param('page name',this.props.contactUsSpecs.pageName)])),r.createElement(s,{onChange:(function(la){this.setState({contactUsComments:la});}).bind(this),placeholder:k.CONTACT_US_REASON_INPUT_PLACEHOLDER,ref:'contactUsCommentBox',maxCharacterPerLine:100,maxLines:5,value:this.state.contactUsComments})));},_renderContactUsEmailBox:function(){return (r.createElement(ca,{className:"_4xnm",onChange:(function(event){this.setState({userEmail:event.target.value});}).bind(this),placeholder:k.CONTACT_US_EMAIL_INPUT_PLACEHOLDER,ref:'contactUsEmailBox',defaultValue:this.state.userEmail}));},_renderContactUsPhoneBox:function(){return (r.createElement('div',{className:"_4xnn"},r.createElement(q,{initialPhoneCode:this.state.countryPrefix,onUpdate:(function(la){this.setState({countryPrefix:la});}).bind(this)}),r.createElement(ca,{className:"_4xno",onChange:(function(event){this.setState({userPhone:event.target.value});}).bind(this),placeholder:k.CONTACT_US_PHONE_INPUT_PLACEHOLDER,ref:'contactUsPhoneBox',defaultValue:this.state.userPhone})));},_renderContactUsPhoneEmailDataInputSection:function(){var la=null,ma=null;switch(this.props.contactUsSpecs.phoneEmailPref){case i.PHONE_EMAIL_PREFERENCE_OPTIONS.PHONE_AND_EMAIL:la=this._renderContactUsEmailBox();ma=this._renderContactUsPhoneBox();break;case i.PHONE_EMAIL_PREFERENCE_OPTIONS.PHONE_ONLY:ma=this._renderContactUsPhoneBox();break;case i.PHONE_EMAIL_PREFERENCE_OPTIONS.EMAIL_ONLY:la=this._renderContactUsEmailBox();break;}return (r.createElement('div',{className:"_4xnp"},r.createElement('div',{className:"_4xnk"},ea._("Let {page name} know how to get in touch with you.",[ea.param('page name',this.props.contactUsSpecs.pageName)])),r.createElement(ca,{className:"_4xnq",onChange:(function(event){this.setState({userName:event.target.value});}).bind(this),placeholder:k.CONTACT_US_NAME_INPUT_PLACEHOLDER,ref:'contactUsNameBox',defaultValue:this.state.userName}),la,ma,r.createElement('div',{className:"_4xnr"},ea._("The information specified in this form will be sent to {page name}, who agrees to use it per their {privacy policy}.",[ea.param('page name',this.props.contactUsSpecs.pageName),ea.param('privacy policy',r.createElement(o,{target:'_blank',href:this.props.contactUsSpecs.privacyLink},ea._("Privacy Policy")))]))));},render:function(){if(this.state.showConfirmDialog)return (r.createElement(u,{behaviors:{LayerHideOnBlur:n},shown:true,width:450},r.createElement(v,null,r.createElement('div',{className:"_4xns"},r.createElement(m,{className:"_4xnt",src:fa('/images/pages/custom_cta/confirmation_cta.png')}),r.createElement('div',null,ea._("Thanks! Your message was sent to")),r.createElement('div',null,ea._("{page name}.",[ea.param('page name',this.props.contactUsSpecs.pageName)])),r.createElement(w,{action:'cancel',className:"_4xnu",label:k.CONTACT_US_INFO_SUBMIT_CONFIRMATION_LABEL,size:'xlarge'})))));var la=null;if(Object.keys(this.state.errorList).length>0){var ma=this.state.errorList,na=[];Object.keys(ma).forEach(function(oa){na.push(r.createElement('li',null,ma[oa]));});la=r.createElement(ba,{className:"_3-96",use:'warn',size:'small'},na);}return (r.createElement(u,{behaviors:{LayerHideOnBlur:n},shown:true,width:450},r.createElement(aa,null,ha[ia.CONTACT_US]),r.createElement(v,null,la,this._renderContactUsCommentsSection(),this._renderContactUsPhoneEmailDataInputSection()),r.createElement(z,null,r.createElement(x,{onClick:this._onCancel}),r.createElement(y,{disabled:Object.keys(this.state.errorList).length>0,use:'confirm',onClick:this._onSubmit}))));}});f.exports=ka;},null);
__d("XCctaOpenTableController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ccta\/open_table\/",{timestamp:{type:"Int",required:true},party_size:{type:"Int",required:true},page_id:{type:"Int",required:true}});},null,{});
__d("XCctaOpenTableMakeProvisionController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ccta\/open_table_make_provision\/",{restaurant_id:{type:"Int",required:true},timestamp:{type:"Int",required:true},party_size:{type:"Int",required:true},page_id:{type:"Int",required:true}});},null,{});
__d('PageCallToActionOpenTableDialog.react',['AsyncRequest','CctaLabels','LayerHideOnBlur','React','XCctaOpenTableController','XCctaOpenTableMakeProvisionController','XUIButton.react','XUIDatePicker.react','XUIDialog.react','XUIDialogBody.react','XUIDialogCancelButton.react','XUIDialogConfirmButton.react','XUIDialogFooter.react','XUISelector.react','cx','fbt','formatDate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';if(c.__markCompiled)c.__markCompiled();var y=u.Option,z=k.PropTypes,aa=20,ba=1000,ca=30,da=60,ea=48,fa=k.createClass({displayName:'PageCallToActionOpenTableDialog',propTypes:{onCancel:z.func.isRequired,openTableSpecs:z.object.isRequired,pageID:z.string.isRequired},_onCancel:function(){this.props.onCancel();this.setState({availableTimes:[],partySize:1,selectedDate:this.props.openTableSpecs.startTimestamp*ba,selectedTime:0});},getInitialState:function(){return {availableTimes:[],chosenTimestamp:0,partySize:1,selectedDate:this.props.openTableSpecs.startTimestamp*ba,selectedTime:0};},_handleDateChange:function(ga){this.setState({selectedDate:ga.getTime()});this._findAvailableTables(ga.getTime(),this.state.selectedTime,this.state.partySize);},_handleTimeChange:function(ga){this.setState({selectedTime:ga.value});this._findAvailableTables(this.state.selectedDate,ga.value,this.state.partySize);},_handlePartySizeChange:function(ga){this.setState({partySize:ga.value});this._findAvailableTables(this.state.selectedDate,this.state.selectedTime,ga.value);},_makeProvision:function(ga){this.setState({chosenTimestamp:ga});var ha=m.getURIBuilder().setInt('party_size',this.state.partySize).setInt('page_id',this.props.pageID).setInt('restaurant_id',this.props.openTableSpecs.restaurantID).setInt('timestamp',ga).getURI();new h().setURI(ha).send();},_findAvailableTables:function(ga,ha,ia){var ja=ga+ha,ka=l.getURIBuilder().setInt('party_size',ia).setInt('page_id',this.props.pageID).setInt('timestamp',ja/ba).getURI();new h().setURI(ka).setHandler((function(la){this.setState({availableTimes:la.payload});}).bind(this)).send();},_getPrintDateAndTime:function(){var ga=this.state.selectedDate+this.state.selectedTime,ha=x(new Date(ga),'m/d/y',{utc:true}),ia=x(new Date(ga),'g:i A',{utc:true});return {printDate:ha,printTime:ia};},_renderDateSelectors:function(){return (k.createElement('div',null,i.DATE_PICKER_TEXT,k.createElement('span',{className:"plm"},k.createElement(o,{earliestTime:this.props.openTableSpecs.startTimestamp,initialTime:this.state.selectedDate,onCalendarSelectDateChange:this._handleDateChange}))));},_renderTimeSelectors:function(){var ga=[],ha=new Date();ha.setSeconds(0);for(var ia=0;ia<ea;ia++){if(ia%2){ha.setHours((ia-1)/2);ha.setMinutes(30);}else{ha.setHours(ia/2);ha.setMinutes(0);}var ja=ia*da*ca*ba;ga.push(k.createElement(y,{key:ja,value:ja},x(ha,'g:i A')));}return (k.createElement('div',null,i.TIME_PICKER_TEXT,k.createElement('span',{className:"plm"},k.createElement(u,{className:"_5vu1",onChange:this._handleTimeChange,value:this.state.selectedTime},ga))));},_renderPartySizeSelector:function(){var ga=[];for(var ha=1;ha<=aa;ha++)ga.push(k.createElement(y,{key:ha,value:ha},ha));return (k.createElement('div',null,i.PARTY_PICKER_TEXT,k.createElement('span',{className:"plm"},k.createElement(u,{className:"_5vu1",onChange:this._handlePartySizeChange,value:this.state.partySize},ga))));},_renderHeaderSection:function(){var ga=k.createElement('div',null),ha=this._getPrintDateAndTime(),ia=[],ja=[];if(!this.state.availableTimes.length)ga=k.createElement('div',null,w._("No tables match your search"));for(var ka=0;ka<this.state.availableTimes.length;ka++)ja.push(ka);ia=ja.map((function(la){return (k.createElement(n,{key:la,label:x(new Date(this.state.availableTimes[la]*ba),'g:i A',{utc:true}),onClick:(function(){return this._makeProvision(this.state.availableTimes[la]);}).bind(this)}));}).bind(this));return (k.createElement('span',null,k.createElement('div',null,w._("Table for {party size for reservation}, {date for reservation} around {time for reservations}",[w.param('party size for reservation',this.state.partySize),w.param('date for reservation',ha.printDate),w.param('time for reservations',ha.printTime)])),ga,ia));},render:function(){return (k.createElement(p,{behaviors:{LayerHideOnBlur:j},shown:true,width:400},k.createElement(q,null,this._renderHeaderSection(),this._renderDateSelectors(),this._renderTimeSelectors(),this._renderPartySizeSelector()),k.createElement(t,null,k.createElement(r,{onClick:this.onCancel}),k.createElement(s,null))));}});f.exports=fa;},null);
__d('PageCallToActionViewerUnitMixin',['AsyncRequest','DOM','PageCallToActionContactUsDialog.react','PageCallToActionDestinationTypes','PageCallToActionOpenTableDialog.react','PageContentTabLoadingDialog','PageTransitions','React','ReactDOM','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIText.react','fbt','CustomCallToActionTypes'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';if(c.__markCompiled)c.__markCompiled();var z=c('CustomCallToActionTypes').TYPES,aa=c('CustomCallToActionTypes').CONFIGS,ba=o.PropTypes,ca={mixins:[q],propTypes:{callToActionType:ba.string.isRequired,url:ba.string.isRequired},getInitialState:function(){var da=aa[this.props.callToActionType];return {confirmDialog:da.confirm_dialog,showConfirmDialog:false,showOpenTableDialog:false};},renderLayers:function(){if(!this.state.confirmDialog)return {};return {confirmDialog:o.createElement(r,{onToggle:this._onConfirmDialogToggle,shown:this.state.showConfirmDialog,width:400},o.createElement(w,null,this.state.confirmDialog.title),o.createElement(s,null,o.createElement('div',null,o.createElement(x,{size:'xlarge'},this.state.confirmDialog.message)),o.createElement('p',null),o.createElement('div',null,o.createElement(x,{size:'small'},this.state.confirmDialog.subMessage))),o.createElement(v,null,o.createElement(u,null),o.createElement(t,{action:'button',label:this.state.confirmDialog.confirmButtonLabel?this.state.confirmDialog.confirmButtonLabel:y._("Continue"),onClick:this._executeCallToAction,use:'confirm'})))};},_onClick:function(){if(this.state.confirmDialog){this.setState({showConfirmDialog:true});}else{this._onToggleOpenTable();this._executeCallToAction();}},_onToggleOpenTable:function(){this.setState({showOpenTableDialog:!this.state.showOpenTableDialog});},_onConfirmDialogToggle:function(da){this.setState({showConfirmDialog:da});},_executeCallToAction:function(){this.setState({showConfirmDialog:false});if(this.props.destinationType===k.DONATE){m.show();new h(this.props.url).setFinallyHandler(function(da){m.hide();}).send();return;}if(this.props.callToActionType===z.MAKE_RESERVATION){if(!this._dialogAnchor)this._dialogAnchor=i.create('div');if(this.state.showOpenTableDialog)p.render(o.createElement(l,{onCancel:this._onToggleOpenTable,openTableSpecs:this.props.openTableSpecs,pageID:this.props.pageID}),this._dialogAnchor);return;}if(this.props.callToActionType===z.CONTACT_US&&this.props.destinationType!==k.WEBSITE){if(!this._dialogAnchor)this._dialogAnchor=i.create('div');p.render(o.createElement(j,{contactUsSpecs:this.props.contactUsSpecs,pageID:this.props.pageID}),this._dialogAnchor);return;}switch(this.props.destinationType){case k.WEBSITE:window.open(this.props.url);break;case k.STORE_FRONT:n.go(this.props.url,true);break;}}};f.exports=ca;},null);
__d('CustomCTAViewerUnit.react',['CctaTestIDs','CustomCTALogger','CustomCTAUtils','cx','PagesButton.react','PageCallToActionRef','PageCallToActionViewerUnitMixin','PagesEventType','React','Image.react','Set','XUIButton.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=p.PropTypes,u=p.createClass({displayName:'CustomCTAViewerUnit',mixins:[n],propTypes:{borderShade:t.string,buttonLabel:t.string,cctaID:t.string.isRequired,depressed:t.bool,isPresenceCTA:t.bool,pageID:t.string.isRequired,size:t.string,surface:t.string.isRequired,userID:t.string.isRequired,openTableSpecs:t.object.isRequired,contactUsSpecs:t.object.isRequired},onButtonClick:function(){this._onClick();i.log({ccta_id:this.props.cctaID,ccta_type:this.props.callToActionType,event_type:o.CUSTOM_CTA_CLICK_VIEWER_UNIT,page_id:this.props.pageID,surface:this.props.surface,target_url:this.props.url,user_id:this.props.userID,presence_cta:this.props.isPresenceCTA});},getDefaultProps:function(){return {size:"large",borderShade:"dark"};},render:function(){var v=this.props.callToActionType,w=this.props.buttonLabel?this.props.buttonLabel:j.getCallToActionLabel(v);if(this._shouldRenderDiv())return (p.createElement('div',{'data-testid':h.CCTA_VIEWER_UNIT_TESTID,onClick:this.onButtonClick},w));if(this.props.surface===m.PAGE_PRESENCE_LHS_CARD)return (p.createElement(l,{'data-testid':h.CCTA_VIEWER_UNIT_TESTID,label:w,onClick:this.onButtonClick,fill:true}));if(this.props.isPresenceCTA)return (p.createElement(l,{className:"_5yat",'data-testid':h.CCTA_VIEWER_UNIT_TESTID,label:w,onClick:this.onButtonClick}));return (p.createElement(s,{'data-testid':h.CCTA_VIEWER_UNIT_TESTID,borderShade:this.props.borderShade,depressed:this.props.depressed,image:p.createElement(q,{src:j.getCallToActionIcon(v)}),label:w,onClick:this.onButtonClick,size:this.props.size}));},_shouldRenderDiv:function(){return (new r([m.ADMIN_MENU_TEST_LINK]).has(this.props.surface));}});f.exports=u;},null);